{"version":3,"file":"js/596.6229b9a8.js","mappings":"wQAUO,SAASA,EAAiBC,GAC/B,OAAOC,EAAAA,EAAMC,KAAK,iBAAkBF,EAAUG,EAAAA,IACzCC,MAAK,EAAEC,MAAOA,WACNA,IAERC,OAAM,EAAEC,UAAWF,MAAOG,cAAaC,qBACtC,KAAM,CACJJ,KAAMG,EACNE,QAASD,EACV,GAET,CAOO,SAASE,EAAeC,GAC7B,OAAOX,EAAAA,EAAMY,IAAI,iBAAkB,CACjCC,OAAQF,IAELR,MAAK,EAAEC,MAAOA,WACNA,IAERC,OAAM,EAAEC,UAAWF,MAAOI,qBACzB,KAAM,CACJC,QAASD,EACV,GAET,CAOO,SAASM,EAAiBC,GAC/B,OAAOf,EAAAA,EAAMY,IAAK,kBAAiBG,KAC9BZ,MAAK,EAAEC,MAAOA,WACNA,IAERC,OAAM,EAAEC,UAAWF,MAAOI,qBACzB,KAAM,CACJC,QAASD,EACV,GAET,CAQO,SAASQ,EAAcD,EAAShB,GACrC,OAAOC,EAAAA,EAAMiB,IAAK,kBAAiBF,IAAWhB,EAAUG,EAAAA,IACnDC,MAAK,IACGY,IAERV,OAAM,EAAEC,UAAWF,MAAOI,qBACzB,KAAM,CACJC,QAASD,EACV,GAET,CAOO,SAASU,EAAcH,GAC5B,OAAOf,EAAAA,EAAMmB,OAAQ,kBAAiBJ,KACjCZ,MAAK,SAELE,OAAM,EAAEC,UAAWF,MAAOI,qBACzB,KAAM,CACJC,QAASD,EACV,GAET,C,kkBCoEAY,EAAe,CACbC,KAAM,e,gCAvER,MAAMC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MAGRC,IAFQC,EAAAA,EAAAA,OAEOC,EAAAA,EAAAA,IAAI,KACnBC,GAAcD,EAAAA,EAAAA,IAAI,IAClBE,GAAWF,EAAAA,EAAAA,IAAI,GACfjB,GAAYiB,EAAAA,EAAAA,IAAI,CAAC,GAQvBG,eAAeC,IACbrB,EAAUsB,OAAQC,EAAAA,EAAAA,GAAgBV,EAAMW,MAAO,GAE/C,IACE,MAAOC,EAAoBC,SAA2BC,QAAQC,IAAI,EAChEC,EAAAA,EAAAA,GAAgBC,EAAAA,KAChB/B,EAAAA,EAAAA,IAAeC,EAAUsB,SAG3BP,EAAaO,MAAQG,EACrBP,EAAYI,MAAQI,EAAkBR,YACtCC,EAASG,MAAqC,IAA7BJ,EAAYI,MAAMS,OAAe,EAAIL,EAAkBP,QAC1E,CAAE,OAAO,QAACrB,IACRkC,QAAQC,MAAMnC,EAChB,CACF,CAMA,SAASoC,EAAkBC,GACzBxB,EAAOyB,KAAK,CACVC,KAAM,aACNb,MAAOW,GAEX,CAMA,SAASG,EAAaC,GACpBvC,EAAUsB,MAAMiB,KAAOA,EAEvB5B,EAAOyB,KAAK,CACVC,KAAO,aACPb,MAAOxB,EAAUsB,OAErB,CAMA,SAASkB,EAAeC,GACtB9B,EAAOyB,KAAK,CACVC,KAAO,cAAaI,EAAMrC,UAC1BoB,MAAOxB,EAAUsB,OAErB,C,OAxDAD,KACAqB,EAAAA,EAAAA,IAAM7B,EAAOQ,G,g+BC7Fb,MAAMsB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://frontend/./src/api/board/galleryService.js","webpack://frontend/./src/views/board/gallery/GalleryList.vue","webpack://frontend/./src/views/board/gallery/GalleryList.vue?ea02"],"sourcesContent":["import axios from \"@/api/config/axios\";\r\nimport {MULTIPART_CONFIG} from \"@/constants\";\r\n\r\n/**\r\n * 갤러리를 등록합니다.\r\n * @param formData 등록 폼\r\n * @return {Promise<number>} 등록된 게시글 번호를 반환하거나,\r\n * data: 에러필드에 에러메시지가 담겨진 객체를 반환합니다.\r\n * message: API 통신 에러메시지\r\n */\r\nexport function registerGallery (formData) {\r\n  return axios.post('/api/galleries', formData, MULTIPART_CONFIG)\r\n      .then(({data: {data}}) => {\r\n        return data;\r\n      })\r\n      .catch(({response: {data: {errorFields, errorMessage}}}) => {\r\n        throw {\r\n          data: errorFields,\r\n          message: errorMessage,\r\n        }\r\n      });\r\n}\r\n\r\n/**\r\n * 갤러리 목록을 조회합니다.\r\n * @param condition 검색조건\r\n * @returns {Promise<Array>} 갤러리 목록이 배열로 반환됩니다.\r\n */\r\nexport function getGalleryList(condition) {\r\n  return axios.get('/api/galleries', {\r\n    params: condition\r\n  })\r\n      .then(({data: {data}}) => {\r\n        return data;\r\n      })\r\n      .catch(({response: {data: {errorMessage}}}) => {\r\n        throw {\r\n          message: errorMessage\r\n        }\r\n      });\r\n}\r\n\r\n/**\r\n * 갤러리 상세정보를 조회합니다.\r\n * @param boardId 갤러리 번호\r\n * @return\r\n */\r\nexport function getGalleryDetail(boardId) {\r\n  return axios.get(`/api/galleries/${boardId}`)\r\n      .then(({data: {data}}) => {\r\n        return data;\r\n      })\r\n      .catch(({response: {data: {errorMessage}}}) => {\r\n        throw {\r\n          message: errorMessage\r\n        }\r\n      });\r\n}\r\n\r\n/**\r\n * 갤러리를 업데이트합니다.\r\n * @param boardId 갤러리 번호\r\n * @param formData 업데이트폼 정보\r\n * @return {Promise<number>} 갤러리 번호\r\n */\r\nexport function updateGallery(boardId, formData) {\r\n  return axios.put(`/api/galleries/${boardId}`, formData, MULTIPART_CONFIG)\r\n      .then(() => {\r\n        return boardId;\r\n      })\r\n      .catch(({response: {data: {errorMessage}}}) => {\r\n        throw {\r\n          message: errorMessage\r\n        }\r\n      });\r\n}\r\n\r\n/**\r\n * 갤러리를 삭제합니다.\r\n * @param boardId 갤러리 번호\r\n * @return {Promise<void>}\r\n */\r\nexport function deleteGallery(boardId) {\r\n  return axios.delete(`/api/galleries/${boardId}`)\r\n      .then(() => {\r\n      })\r\n      .catch(({response: {data: {errorMessage}}}) => {\r\n        throw {\r\n          message: errorMessage\r\n        };\r\n      });\r\n}","<template>\r\n\r\n  <GNB></GNB>\r\n\r\n  <!-- 게시글 제목 -->\r\n  <board-title title=\"갤러리\" ></board-title>\r\n\r\n  <!-- 게시글 검색조건 -->\r\n  <board-search-condition\r\n      :category-list=\"categoryList\"\r\n      :condition=\"condition\"\r\n      :is-gallery-limit=\"true\"\r\n      @condition-search=\"onConditionSearch\">\r\n  </board-search-condition>\r\n\r\n  <!-- 갤러리 등록 버튼 -->\r\n  <div class=\"register-btn-container\">\r\n    <base-button\r\n        @click=\"router.push({path: '/galleries/register',query: condition})\"\r\n        name=\"갤러리 등록\"></base-button>\r\n  </div>\r\n\r\n  <!-- 갤러리 목록 -->\r\n  <div class=\"gallery-list-container\">\r\n\r\n    <div\r\n        v-for=\"gallery in galleryList\"\r\n        :key=\"gallery.boardId\"\r\n        class=\"gallery-container\">\r\n\r\n      <!-- 갤러리 이미지 -->\r\n      <div class=\"gallery-img-container\">\r\n        <img\r\n            @click=\"onDetailRouter(gallery)\"\r\n            :src=\"`/api/file/image/${gallery.galleryImgName}`\"\r\n            alt=\"갤러리 이미지\"\r\n            class=\"gallery-img\">\r\n      </div>\r\n\r\n      <!-- 갤러리 정보 -->\r\n      <div class=\"gallery-info-container\">\r\n\r\n        <!-- 갤러리 제목 -->\r\n        <div class=\"gallery-title-container\">\r\n          <div\r\n              @click=\"onDetailRouter(gallery)\"\r\n              class=\"gallery-title\">\r\n            {{ gallery.boardTitle }}\r\n          </div>\r\n          <span class=\"galley-title-new\">new</span>\r\n        </div>\r\n\r\n        <!-- 갤러리 내용 -->\r\n        <div class=\"gallery-content\">{{ gallery.boardContent }}</div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <!-- 페이징 처리 -->\r\n    <pagination\r\n        @page-router=\"onPageRouter\"\r\n        :total-cnt=\"totalCnt\"\r\n        :limit=\"Number(condition.limit)\"\r\n        :page=\"Number(condition.page)\"\r\n        class=\"paging-container\">\r\n    </pagination>\r\n\r\n  </div>\r\n\r\n</template>\r\n<script setup>\r\n/**\r\n * 갤러리 목록 컴포넌트\r\n */\r\n\r\nimport BoardTitle from \"@/components/board/BoardTitle.vue\";\r\nimport BoardSearchCondition from \"@/components/board/BoardSearchCondition.vue\";\r\nimport Pagination from \"@/components/Pagination.vue\";\r\nimport {useRoute, useRouter} from \"vue-router\";\r\nimport {useStore} from \"vuex\";\r\nimport {ref, watch} from \"vue\";\r\nimport {createCondition} from \"@/util/queryParamUtil\";\r\nimport {getCategoryList} from \"@/api/categoryService\";\r\nimport {GALLERY_CATEGORY_ID} from \"@/constants\";\r\nimport BaseButton from \"@/components/base/BaseButton.vue\";\r\nimport {getGalleryList} from \"@/api/board/galleryService\";\r\nimport GNB from \"@/components/GNB.vue\";\r\n\r\nconst router = useRouter();\r\nconst route = useRoute();\r\nconst store = useStore();\r\n\r\nconst categoryList = ref([]); /* 카테고리 목록 */\r\nconst galleryList = ref([]); /* 갤러리 목록 */\r\nconst totalCnt = ref(0); /* 게시글 총 개수 */\r\nconst condition = ref({}); /* 게시글 검색조건 */\r\n\r\ninitGalleryList(); /* 컴포넌트 초기화 */\r\nwatch(route, initGalleryList); /* 컴포넌트 URL 변경을 감지합니다.(페이징 처리) */\r\n\r\n/**\r\n * 갤러리 목록 컴포넌트를 초기화 합니다.\r\n */\r\nasync function initGalleryList() {\r\n  condition.value = createCondition(route.query, 3);\r\n\r\n  try {\r\n    const [categoryListResult, galleryListResult] = await Promise.all([\r\n      getCategoryList(GALLERY_CATEGORY_ID),\r\n      getGalleryList(condition.value),\r\n    ]);\r\n\r\n    categoryList.value = categoryListResult;\r\n    galleryList.value = galleryListResult.galleryList;\r\n    totalCnt.value = galleryList.value.length === 0 ? 0 : galleryListResult.totalCnt;\r\n  } catch ({message}) {\r\n    console.error(message);\r\n  }\r\n}\r\n\r\n/**\r\n * 게시글 검색조건 컴포넌트 핸들러\r\n * @param searchForm 게시글 검색정보\r\n */\r\nfunction onConditionSearch(searchForm) {\r\n  router.push({\r\n    path: '/galleries',\r\n    query: searchForm\r\n  })\r\n}\r\n\r\n/**\r\n * 페이징처리\r\n * @param page 해당 페이지\r\n */\r\nfunction onPageRouter(page) {\r\n  condition.value.page = page;\r\n\r\n  router.push({\r\n    path: `/galleries`,\r\n    query: condition.value\r\n  });\r\n}\r\n\r\n/**\r\n * 갤러리 상세페이지로 라우팅합니다.\r\n * @param board 갤러리 정보\r\n */\r\nfunction onDetailRouter(board) {\r\n  router.push({\r\n    path: `/galleries/${board.boardId}`,\r\n    query: condition.value\r\n  });\r\n}\r\n\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n  name: \"GalleryList\"\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.register-btn-container {\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.gallery-list-container {\r\n  margin-top: 10px;\r\n}\r\n\r\n.gallery-container {\r\n  border: var(--main-border);\r\n  padding: 10px;\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.gallery-img-container {\r\n  width: 200px;\r\n  height: 120px;\r\n}\r\n\r\n.gallery-img {\r\n  display: block;\r\n  width: 100%;\r\n  height: 100%;\r\n  cursor: pointer;\r\n}\r\n\r\n.gallery-info-container {\r\n  margin-left: 30px;\r\n  font-size: var(--middle-font-size);\r\n  max-width: 500px;\r\n}\r\n\r\n.gallery-title-container {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.gallery-title {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  font-weight: bold;\r\n  margin: 20px 0;\r\n  cursor: pointer;\r\n}\r\n\r\n.galley-title-new {\r\n  margin-left: 10px;\r\n  font-size: var(--small-font-size);\r\n  color: orange;\r\n}\r\n\r\n.gallery-content {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.paging-container {\r\n\r\n  margin-top: 30px;\r\n}\r\n\r\n</style>","import script from \"./GalleryList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GalleryList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GalleryList.vue?vue&type=style&index=0&id=e499af5c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e499af5c\"]])\n\nexport default __exports__"],"names":["registerGallery","formData","axios","post","MULTIPART_CONFIG","then","data","catch","response","errorFields","errorMessage","message","getGalleryList","condition","get","params","getGalleryDetail","boardId","updateGallery","put","deleteGallery","delete","__default__","name","router","useRouter","route","useRoute","categoryList","useStore","ref","galleryList","totalCnt","async","initGalleryList","value","createCondition","query","categoryListResult","galleryListResult","Promise","all","getCategoryList","GALLERY_CATEGORY_ID","length","console","error","onConditionSearch","searchForm","push","path","onPageRouter","page","onDetailRouter","board","watch","__exports__"],"sourceRoot":""}