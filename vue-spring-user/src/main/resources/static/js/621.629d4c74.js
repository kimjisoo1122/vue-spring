"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[621],{8232:function(e,a,t){t.d(a,{HI:function(){return o},L1:function(){return i},NB:function(){return s},Qz:function(){return u},zF:function(){return l}});var r=t(3076),n=t(5739);function o(e){return r.Z.post("/api/galleries",e,n.np).then((({data:{data:e}})=>e)).catch((({response:{data:{errorFields:e,errorMessage:a}}})=>{throw{data:e,message:a}}))}function l(e){return r.Z.get("/api/galleries",{params:e}).then((({data:{data:e}})=>e)).catch((({response:{data:{errorMessage:e}}})=>{throw{message:e}}))}function s(e){return r.Z.get(`/api/galleries/${e}`).then((({data:{data:e}})=>e)).catch((({response:{data:{errorMessage:e}}})=>{throw{message:e}}))}function i(e,a){return r.Z.put(`/api/galleries/${e}`,a,n.np).then((()=>e)).catch((({response:{data:{errorMessage:e}}})=>{throw{message:e}}))}function u(e){return r.Z.delete(`/api/galleries/${e}`).then((()=>{})).catch((({response:{data:{errorMessage:e}}})=>{throw{message:e}}))}},8077:function(e,a,t){t.r(a),t.d(a,{default:function(){return S}});t(7658);var r=t(3396),n=t(4870),o=t(5082),l=t(4761),s=t(1379),i=t(3795),u=t(2384),c=t(399),d=t(7050),g=t(2483),m=t(5739),v=t(7474),f=t(8169),p=t(4909),h=t(65),b=t(8232),y=t(4231),Z=t(1037),C=t(6212),W=t(156);const w={class:"register-container"},I={class:"register-category-container"},H={class:"register-category-input-container"},_={class:"register-title-container"},T={class:"register-title-input-container"},V={class:"register-content-container"},U={class:"register-content-input-container"},q={class:"register-file-container"},F={class:"register-file-input-container"},k={name:"GalleryRegister"};var M=Object.assign(k,{setup(e){const a=(0,g.yj)(),t=(0,g.tv)(),k=((0,h.oR)(),(0,n.iH)({categoryId:"",boardTitle:"",boardContent:""})),M=(0,n.iH)({categoryId:"",boardTitle:"",boardContent:"",saveFiles:""}),$=(0,n.iH)([]),j=(0,n.iH)({}),S=(0,n.iH)({}),R=(0,n.iH)(["jpg","png"]);async function x(){j.value=(0,d.C)(a.query,3);try{$.value=await(0,v.A)(m.ui)}catch({message:e}){console.error(e)}}async function z(){if(!O()&&(0,C.$8)())return!1;try{const e=(0,W.k)(k.value,S.value);if(null===e.get("saveFiles"))return alert("이미지를 첨부해주세요."),!1;const a=await(0,b.HI)(e);t.push({path:`/galleries/${a}`,query:j.value})}catch({data:e,message:a}){for(const t in e)M.value[t]=e[t];console.error(a)}}function O(){M.value.boardTitle=(0,p.uq)(k.value.boardTitle),M.value.boardContent=(0,p.ty)(k.value.boardContent),M.value.categoryId=(0,p.Hm)(k.value.categoryId);for(const e of Object.values(M.value))if(e)return!1;return!0}function A(e){S.value=e}return x(),(e,a)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(y.Z),(0,r.Wm)(o.Z,{title:"갤러리"}),(0,r._)("div",w,[(0,r._)("div",I,[(0,r.Wm)(l.Z,{name:"분류",class:"board-form-title-category"}),(0,r._)("div",H,[(0,r.Wm)(u.Z,{modelValue:k.value.categoryId,"onUpdate:modelValue":a[0]||(a[0]=e=>k.value.categoryId=e),onChange:a[1]||(a[1]=e=>M.value.categoryId=(0,n.SU)(p.Hm)(k.value.categoryId)),"category-list":$.value,class:"register-category"},null,8,["modelValue","category-list"]),(0,r.Wm)(i.Z,{"error-msg":M.value.categoryId},null,8,["error-msg"])])]),(0,r._)("div",_,[(0,r.Wm)(l.Z,{name:"제목",class:"board-form-title-title"}),(0,r._)("div",T,[(0,r.Wm)(s.Z,{modelValue:k.value.boardTitle,"onUpdate:modelValue":a[2]||(a[2]=e=>k.value.boardTitle=e),onChange:a[3]||(a[3]=e=>M.value.boardTitle=(0,n.SU)(p.uq)(k.value.boardTitle)),placeholder:"제목을 입력해 주세요.",class:"register-title"},null,8,["modelValue"]),(0,r.Wm)(i.Z,{"error-msg":M.value.boardTitle},null,8,["error-msg"])])]),(0,r._)("div",V,[(0,r.Wm)(l.Z,{name:"내용",class:"board-form-title-content"}),(0,r._)("div",U,[(0,r.Wm)(c.Z,{modelValue:k.value.boardContent,"onUpdate:modelValue":a[4]||(a[4]=e=>k.value.boardContent=e),onChange:a[5]||(a[5]=e=>M.value.boardContent=(0,n.SU)(p.uq)(k.value.boardContent)),class:"register-content"},null,8,["modelValue"]),(0,r.Wm)(i.Z,{"error-msg":M.value.boardContent},null,8,["error-msg"])])]),(0,r._)("div",q,[(0,r.Wm)(l.Z,{required:!1,name:"갤러리 이미지",class:"board-form-title-file"}),(0,r._)("div",F,[(0,r.Wm)(f.Z,{onUploadFile:A,"allowed-extensions":R.value},null,8,["allowed-extensions"]),(0,r.Wm)(i.Z,{"error-msg":M.value.saveFiles},null,8,["error-msg"])])]),(0,r.Wm)(Z.Z,{onRegister:z,onCancel:a[6]||(a[6]=e=>(0,n.SU)(t).push({path:"/galleries",query:j.value})),"form-type":"register"})])],64))}}),$=t(89);const j=(0,$.Z)(M,[["__scopeId","data-v-64b64718"]]);var S=j}}]);
//# sourceMappingURL=621.629d4c74.js.map