"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[256],{9280:function(e,a,t){t.d(a,{Hk:function(){return d},J7:function(){return u},VM:function(){return l},gK:function(){return s},yK:function(){return o}});var r=t(3076),n=t(5739);function o(e){return r.Z.post("/api/frees",e,n.np).then((({data:{data:e}})=>e)).catch((({response:{data:{errorFields:e,errorMessage:a}}})=>{throw{data:e,message:a}}))}function l(e){return r.Z.get("/api/frees",{params:e}).then((({data:{data:e}})=>e)).catch((({response:{data:{errorMessage:e}}})=>{throw{message:e}}))}function u(e){return r.Z.get(`/api/frees/${e}`).then((({data:{data:e}})=>e)).catch((({response:{data:{errorMessage:e}}})=>{throw{message:e}}))}function s(e,a){return r.Z.put(`/api/frees/${e}`,a,n.np).then((()=>e)).catch((({response:{data:{errorMessage:e}}})=>{throw{message:e}}))}function d(e){return r.Z.delete(`/api/frees/${e}`).then((()=>{})).catch((({response:{data:{errorMessage:e}}})=>{throw{message:e}}))}},6950:function(e,a,t){t.d(a,{K:function(){return n}});t(6229),t(7330),t(2062);var r=t(3076);function n(e){return r.Z.get(`/api/file/board/${e}`).then((({data:{data:e}})=>e)).catch((({response:{data:{errorMessage:e}}})=>{throw{message:e}}))}},9936:function(e,a,t){t.r(a),t.d(a,{default:function(){return S}});t(7658);var r=t(3396),n=t(4870),o=t(5082),l=t(4761),u=t(2384),s=t(3795),d=t(1379),i=t(4909),c=t(399),v=t(8169),m=t(6950),p=t(2483),f=t(9280),g=t(5739),h=t(7474),b=t(65),y=t(6212),Z=t(4521),C=t(1037),W=t(156),I=t(7050);const w={class:"update-container"},H={class:"update-category-container"},_={class:"update-category-input-container"},V={class:"update-title-container"},T={class:"update-title-input-container"},U={class:"update-content-container"},M={class:"update-content-input-container"},k={class:"update-file-container"},q={class:"update-file-input-container"},F={name:"FreeUpdate"};var K=Object.assign(F,{setup(e){(0,b.oR)();const a=(0,p.yj)(),t=(0,p.tv)(),F=(0,n.iH)({categoryId:"",boardTitle:"",boardContent:""}),K=(0,n.iH)({categoryId:"",boardTitle:"",boardContent:"",saveFiles:""}),$=(0,n.iH)({}),j=(0,n.iH)([]),S=(0,n.iH)({}),D=(0,n.iH)([]),J=(0,n.iH)([]),O=(0,n.iH)({});async function A(){S.value=(0,I.C)(a.query);try{const e=a.params.boardId,[t,r,n]=await Promise.all([(0,m.K)(e),(0,f.J7)(e),(0,h.A)(g.E6)]);D.value=t,$.value=r,j.value=n,(0,W.M)(F.value,$.value)}catch({message:e}){console.error(e)}}async function E(){if(!Y()||!(0,y.wu)($.value.userId))return!1;try{const e=(0,W.k)(F.value,O.value,J.value),r=await(0,f.gK)(a.params.boardId,e);t.push({path:`/frees/${r}`,query:S.value})}catch({data:e,message:r}){for(const a in e)K.value[a]=e[a];console.error(r)}}function P(e){J.value.push(e),D.value=D.value.filter((a=>a.fileId!==e))}function R(){t.push({path:"/frees",query:S.value})}function Y(){K.value.boardTitle=(0,i.uq)(F.value.boardTitle),K.value.boardContent=(0,i.ty)(F.value.boardContent),K.value.categoryId=(0,i.Hm)(F.value.categoryId);for(const e of Object.values(K.value))if(e)return console.log(e),!1;return!0}function x(e){O.value=e}return A(),(e,a)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(Z.Z),(0,r.Wm)(o.Z,{title:"자유게시판"}),(0,r._)("div",w,[(0,r._)("div",H,[(0,r.Wm)(l.Z,{name:"분류",class:"board-form-title-category"}),(0,r._)("div",_,[(0,r.Wm)(u.Z,{modelValue:F.value.categoryId,"onUpdate:modelValue":a[0]||(a[0]=e=>F.value.categoryId=e),onChange:a[1]||(a[1]=e=>K.value.categoryId=(0,n.SU)(i.Hm)(F.value.categoryId)),"category-list":j.value,class:"update-category"},null,8,["modelValue","category-list"]),(0,r.Wm)(s.Z,{"error-msg":K.value.categoryId},null,8,["error-msg"])])]),(0,r._)("div",V,[(0,r.Wm)(l.Z,{name:"제목",class:"board-form-title-title"}),(0,r._)("div",T,[(0,r.Wm)(d.Z,{modelValue:F.value.boardTitle,"onUpdate:modelValue":a[2]||(a[2]=e=>F.value.boardTitle=e),onChange:a[3]||(a[3]=e=>K.value.boardTitle=(0,n.SU)(i.uq)(F.value.boardTitle)),placeholder:"제목을 입력해 주세요.",class:"update-title"},null,8,["modelValue"]),(0,r.Wm)(s.Z,{"error-msg":K.value.boardTitle},null,8,["error-msg"])])]),(0,r._)("div",U,[(0,r.Wm)(l.Z,{name:"내용",class:"board-form-title-content"}),(0,r._)("div",M,[(0,r.Wm)(c.Z,{modelValue:F.value.boardContent,"onUpdate:modelValue":a[4]||(a[4]=e=>F.value.boardContent=e),onChange:a[5]||(a[5]=e=>K.value.boardContent=(0,n.SU)(i.ty)(F.value.boardContent)),class:"update-content"},null,8,["modelValue"]),(0,r.Wm)(s.Z,{"error-msg":K.value.boardContent},null,8,["error-msg"])])]),(0,r._)("div",k,[(0,r.Wm)(l.Z,{required:!1,name:"첨부",class:"board-form-title-file"}),(0,r._)("div",q,[(0,r.Wm)(v.Z,{onUploadFile:x,onDeleteFile:P,"is-update":!0,"file-list":D.value},null,8,["file-list"]),(0,r.Wm)(s.Z,{"error-msg":K.value.saveFiles},null,8,["error-msg"])])]),(0,r.Wm)(C.Z,{onUpdate:E,onCancel:R,"form-type":"update"})])],64))}}),$=t(89);const j=(0,$.Z)(K,[["__scopeId","data-v-42f4e612"]]);var S=j}}]);
//# sourceMappingURL=256.f2f05690.js.map